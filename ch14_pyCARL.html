<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CARLsim: Chapter 14: pyCARL</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="CARLsimStyles.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CARLsim
   &#160;<span id="projectnumber">5.0.0</span>
   </div>
   <div id="projectbrief">CARLsim: a GPU-accelerated SNN simulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('ch14_pyCARL.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Chapter 14: pyCARL </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#ch14s1_preinstallation">14.1 Pre-Installation</a><ul><li class="level2"><a href="#ch14s1s1_os">14.1.1 Supported Operating Systems</a></li>
</ul>
</li>
<li class="level1"><a href="#ch14s2_installation">14.2 Installation</a><ul><li class="level2"><a href="#ch14s2s2_pyNN">14.2.1 Installing PyNN</a></li>
<li class="level2"><a href="#ch14s2s3_pyCARL">14.2.2 Installation pyCARL</a><ul><li class="level3"><a href="#ch14s2s1s1_CARLsim">Clone and install the latest development version of CARLsim5.</a></li>
<li class="level3"><a href="#ch14s2s1s1_pyCARL">Navigate to the pyCARL source code and copy its contents to the pyNN installation root.</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#ch14s3_features">14.3 Features supported by pyCARL</a><ul><li class="level2"><a href="#ch14s3s1_run">14.3.1 Running PyNN with CARLsim:</a></li>
<li class="level2"><a href="#ch14s3s2_neuronmodel">14.3.2 Neuron Models:</a><ul><li class="level3"><a href="#ch14s3s2s1_neuronmodel">Neuron Type:</a></li>
<li class="level3"><a href="#ch14s3s2s2_neuronmodel">Create Group:</a></li>
</ul>
</li>
<li class="level2"><a href="#ch14s3s3_synapse">14.3.3 Synapse:</a><ul><li class="level3"><a href="#ch14s3s3s1_connector">Connector Types:</a></li>
</ul>
</li>
<li class="level2"><a href="#ch14s3s4_model">14.3.4 Synapse Models:</a></li>
<li class="level2"><a href="#ch14s3s5_input">14.3.5 Input:</a><ul><li class="level3"><a href="#ch14s3s5s1_poisson">Generating Poisson Spikes:</a></li>
<li class="level3"><a href="#ch14s3s5s2_spikesource">Generating Spikes From Arrays:</a></li>
</ul>
</li>
<li class="level2"><a href="#ch14s3s6_monitor">14.3.6 Monitoring:</a></li>
<li class="level2"><a href="#ch14s3s7_homeostasis">14.3.7 Homeostasis:</a></li>
<li class="level2"><a href="#ch14s3s8_homeostasis">14.3.8 Conductance mode:</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="ch14s1_preinstallation"></a>
14.1 Pre-Installation</h1>
<dl class="section author"><dt>Author</dt><dd>Adarsha Balaji</dd></dl>
<p>pyCARL is an interface between a pyNN front-end and a <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> back-end.</p>
<p>pyCARL requires the installation of pyNN and <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> and runs on generic x86 CPUs. <br  />
</p>
<p>pyCARL works with Python2.x and Python3.x. <br  />
</p>
<p>The rest of the chapter discusses the steps required to install pyCARL and its dependencies, and the funcitonalities and APIs supported by pyCARL. <br  />
</p>
<h2><a class="anchor" id="ch14s1s1_os"></a>
14.1.1 Supported Operating Systems</h2>
<p>pyCARL has been tested on the following platforms:</p><ul>
<li>Ubuntu 16.04</li>
</ul>
<h1><a class="anchor" id="ch14s2_installation"></a>
14.2 Installation</h1>
<dl class="section author"><dt>Author</dt><dd>Adarsha Balaji</dd></dl>
<p>pyCARL is available as a part of the <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> repository in Github.</p>
<h2><a class="anchor" id="ch14s2s2_pyNN"></a>
14.2.1 Installing PyNN</h2>
<p>You may install pyNN using the following command:</p>
<div class="fragment"><div class="line">$ pip install pyNN</div>
</div><!-- fragment --><p>or, you may follow the installation instructions at <a href="http://neuralensemble.org/docs/PyNN/installation.html">pyNN</a>.</p>
<h2><a class="anchor" id="ch14s2s3_pyCARL"></a>
14.2.2 Installation pyCARL</h2>
<p>PyCARL is a PyNN-based common Python programming interface that integrates a pyNN front-end to a <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> back-end.</p>
<h3><a class="anchor" id="ch14s2s1s1_CARLsim"></a>
Clone and install the latest development version of CARLsim5.</h3>
<div class="fragment"><div class="line">$ git clone --recursive https:<span class="comment">//github.com/UCI-CARL/CARLsim5.git</span></div>
<div class="line">$ cd CARLsim5</div>
</div><!-- fragment --><p>Alternatively, you may download the latest stable release from the <a href="https://github.com/UCI-CARL/CARLsim5/releases">GitHub Release</a> page (.zip or .tar.gz).</p>
<p>For installation instructions on Linux and Mac OS X platforms, please refer to <a class="el" href="ch1_getting_started.html#ch1s2s1_linux">1.2.1 Linux / Mac OS X</a>.</p>
<h3><a class="anchor" id="ch14s2s1s1_pyCARL"></a>
Navigate to the pyCARL source code and copy its contents to the pyNN installation root.</h3>
<div class="fragment"><div class="line">$ cd CARLsim5/pyCARL</div>
<div class="line">$ cp -r CARLsim5/pyCARL/carlsim &lt;pyNN_installation_ root&gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="ch14s3_features"></a>
14.3 Features supported by pyCARL</h1>
<h2><a class="anchor" id="ch14s3s1_run"></a>
14.3.1 Running PyNN with CARLsim:</h2>
<div class="fragment"><div class="line">Command: python &lt;application&gt;.py &lt;pyNN_backend&gt; &lt;application_name&gt; &lt;log_mode&gt; &lt;ithGPUs&gt; &lt;randSeed&gt;</div>
<div class="line"> </div>
<div class="line">$ python test.py carlsim <span class="stringliteral">&quot;test&quot;</span> <a class="code" href="carlsim__datastructures_8h.html#a3a04fc42e22f436d2b3809236cb6ec54ae2d30a195cee6b2961cc2c23ea4b520b">USER</a> 1 42</div>
</div><!-- fragment --><h2><a class="anchor" id="ch14s3s2_neuronmodel"></a>
14.3.2 Neuron Models:</h2>
<p>pyCARL currently supports Izhikevich spiking neurons with either current-based or conductance-based synapses. Support for LIF neurons is planned for the future. Different groups of neurons can be created from a one-dimensional array to a three-dimensional grid.</p>
<h3><a class="anchor" id="ch14s3s2s1_neuronmodel"></a>
Neuron Type:</h3>
<p>To create a group (Population) of Izhikevich neurons, first create a Izhikevich cellType and define its properties, as shown below: </p><div class="fragment"><div class="line">izhikevichCellType = sim.Izhikevich(neuronType=<span class="stringliteral">&quot;EXCITATORY_NEURON&quot;</span>, a=0.02, b=0.2, c=-65, d=6)</div>
</div><!-- fragment --><p>Here, neuronType="EXCITATORY" denotes that the neurons in the group are glutamatergic. Neurons with GABAergic synapses are supported with the INHIBITORY_NEURON keyword. The Izhikevich neuron parameters (a,b,c and d) are also specified in this function.</p>
<h3><a class="anchor" id="ch14s3s2s2_neuronmodel"></a>
Create Group:</h3>
<p>Next, create a Group/Population of the above defined neuron type as follows: </p><div class="fragment"><div class="line">neuron_group1 = sim.Population(numNeurons, izhikevichCellType)</div>
</div><!-- fragment --><p>Here, numNeurons represents the number of neurons in the group.</p>
<h2><a class="anchor" id="ch14s3s3_synapse"></a>
14.3.3 Synapse:</h2>
<p>Once the neuron groups have been defined, the synaptic connections between them can be defined using Projections in pyNN (shown below). To connect two neuron groups (eg. neuron_group1 and neuron_group2) using an all-to-all connector: </p><div class="fragment"><div class="line">connection = sim.Projection(neuron_group1, neuron_group2, sim.AllToAllConnector(), sim.StaticSynapse(weight=3.0, delay=4.0))</div>
</div><!-- fragment --><h3><a class="anchor" id="ch14s3s3s1_connector"></a>
Connector Types:</h3>
<p>In PyNN, each different algorithm that can be used to determine which pre-synaptic neurons are connected to which post-synaptic neurons</p>
<p>The pyCARL interface currently supports the following connectors:</p><ol type="1">
<li>AllToAllConnector - Each neuron in the pre-synaptic population is connected to every neuron in the post-synaptic population.</li>
<li>OneToOneConnector - The neuron with index i in the pre-synaptic population is then connected to the neuron with index i in the post-synaptic population.</li>
<li>FixedProbabilityConnector - Each possible connection between all pre-synaptic neurons and all post-synaptic neurons is created with probability p.</li>
</ol>
<h2><a class="anchor" id="ch14s3s4_model"></a>
14.3.4 Synapse Models:</h2>
<p>Static Synapse - A fixed weight and delay synapse. </p><div class="fragment"><div class="line">synapse = sim.StaticSynapse(weight=3.0, delay=4.0)</div>
</div><!-- fragment --><p>Spike-timing-dependent plasticity - STDP mechanisms can be constructed using weight-dependence and timing-dependent models. </p><div class="fragment"><div class="line">stdp = STDPMechanism(</div>
<div class="line">          weight=0.02,</div>
<div class="line">          delay=1,</div>
<div class="line">          timing_dependence=SpikePairRule(tau_plus=20.0, tau_minus=20.0, A_plus=0.01, A_minus=0.012),</div>
<div class="line">          weight_dependence=AdditiveWeightDependence(w_min=0, w_max=0.04))</div>
</div><!-- fragment --><p>Here, weight is the initialized weights, delay represents the synaptic delay and timing_dependence and weight_dependence are the supported STDP mechanisms. <br  />
</p>
<h2><a class="anchor" id="ch14s3s5_input"></a>
14.3.5 Input:</h2>
<h3><a class="anchor" id="ch14s3s5s1_poisson"></a>
Generating Poisson Spikes:</h3>
<p>The following function allows a user to create spike trains whose inter-spike interval follows a Poisson process. </p><div class="fragment"><div class="line">inputCellType = sim.SpikeSourcePoisson(neuronType=<span class="stringliteral">&quot;EXCITATORY_NEURON&quot;</span>, rate=50)</div>
</div><!-- fragment --><p>neuronType="EXCITATORY" denotes that the neurons in the group are glutamatergic. Neurons with GABAergic synapses are supported with the INHIBITORY_NEURON keyword. The spike rate is set using the rate variable.</p>
<h3><a class="anchor" id="ch14s3s5s2_spikesource"></a>
Generating Spikes From Arrays:</h3>
<p>The following function allows the user to schedule exact spike times (ms) </p><div class="fragment"><div class="line">inputCellType = sim.SpikeSourceArray(neuronType=<span class="stringliteral">&quot;EXCITATORY_NEURON&quot;</span>, spike_times=[5, 10, 15, 20])</div>
</div><!-- fragment --><h2><a class="anchor" id="ch14s3s6_monitor"></a>
14.3.6 Monitoring:</h2>
<p>Currently, pyCARL support spike and connection monitoring. <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> SpikeMonitors and ConnectionMonitors are internally defined for every group (Population) and connection (projection) in an application.</p>
<p>The control the recording of these parameters use the record() function as indicated below: </p><div class="fragment"><div class="line">neuron_group1 = sim.Population(nExc, izhikevichCellType1, label=<span class="stringliteral">&#39;exc&#39;</span>)</div>
<div class="line">...</div>
<div class="line">...</div>
<div class="line">neuron_group1.record(<span class="stringliteral">&#39;spikes&#39;</span>) # spike monitoring</div>
</div><!-- fragment --><h2><a class="anchor" id="ch14s3s7_homeostasis"></a>
14.3.7 Homeostasis:</h2>
<p>Homeostatic synaptic scaling has been observed experimentally and may serve to stabilize plasticity mechanisms that can otherwise undergo run-away behaviors. <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> implements a version of homeostatic synaptic scaling that helps stabilize STDP.</p>
<div class="fragment"><div class="line">sim.state.<a class="code" href="classCARLsim.html#ae51c28f77c75f2a5adab1b511465090f">setHomeostasis</a>(neuron_group1.carlsim_group, True, 1.0, 10.0) <span class="comment">// groupID, true/false, alpha, T</span></div>
</div><!-- fragment --><h2><a class="anchor" id="ch14s3s8_homeostasis"></a>
14.3.8 Conductance mode:</h2>
<p><a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> supports two synapse model descriptions. The current-based (CUBA) description uses a single synaptic current term while the conductance-based (COBA) description calculates the synaptic current using more complex conductance equations for each synaptic receptor-type.</p>
<div class="fragment"><div class="line">sim.state.network.<a class="code" href="classCARLsim.html#a580acd7bfec3145c00014b0bd1742e2e">setConductances</a>(False)</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="aclassCARLsim_html_a580acd7bfec3145c00014b0bd1742e2e"><div class="ttname"><a href="classCARLsim.html#a580acd7bfec3145c00014b0bd1742e2e">CARLsim::setConductances</a></div><div class="ttdeci">void setConductances(bool isSet)</div><div class="ttdoc">Sets default values for conduction decay and rise times or disables COBA alltogether.</div><div class="ttdef"><b>Definition:</b> <a href="carlsim_8cpp_source.html#l01789">carlsim.cpp:1789</a></div></div>
<div class="ttc" id="acarlsim__datastructures_8h_html_a3a04fc42e22f436d2b3809236cb6ec54ae2d30a195cee6b2961cc2c23ea4b520b"><div class="ttname"><a href="carlsim__datastructures_8h.html#a3a04fc42e22f436d2b3809236cb6ec54ae2d30a195cee6b2961cc2c23ea4b520b">USER</a></div><div class="ttdeci">@ USER</div><div class="ttdoc">User mode, for experiment-oriented simulations.</div><div class="ttdef"><b>Definition:</b> <a href="carlsim__datastructures_8h_source.html#l00092">carlsim_datastructures.h:92</a></div></div>
<div class="ttc" id="aclassCARLsim_html_ae51c28f77c75f2a5adab1b511465090f"><div class="ttname"><a href="classCARLsim.html#ae51c28f77c75f2a5adab1b511465090f">CARLsim::setHomeostasis</a></div><div class="ttdeci">void setHomeostasis(int grpId, bool isSet, float homeoScale, float avgTimeScale)</div><div class="ttdoc">Sets custom values for implementation of homeostatic synaptic scaling.</div><div class="ttdef"><b>Definition:</b> <a href="carlsim_8cpp_source.html#l01800">carlsim.cpp:1800</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun Jul 19 2020 14:56:44 for CARLsim by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
